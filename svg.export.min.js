// svg.export.js 0.1.1 - Copyright (c) 2014 Wout Fierens - Licensed under the MIT license
(function(){SVG.extend(SVG.Element,{exportSvg:function(e,i){var n,s,h,r,o,a,f=this.node.nodeName,c="";e=e||{};if(e.exclude==null||!e.exclude.call(this)){e=e||{};i=i||0;if(this instanceof SVG.Doc){c+=t('<?xml version="1.0" encoding="UTF-8"?>',e.whitespace,i);h=this.attr("width");r=this.attr("height");if(e.width)this.attr("width",e.width);if(e.height)this.attr("height",e.height)}c+=t("<"+f+this.attrToString()+">",e.whitespace,i);if(this instanceof SVG.Doc){this.attr({width:h,height:r});c+=t("<desc>Created with svg.js [http://svgjs.com]</desc>",e.whitespace,i+1);c+=this.defs().exportSvg(e,i+1)}if(this instanceof SVG.Parent){for(n=0,s=this.children().length;n<s;n++){if(SVG.Absorbee&&this.children()[n]instanceof SVG.Absorbee){a=this.children()[n].node.cloneNode(true);o=document.createElement("div");o.appendChild(a);c+=o.innerHTML}else{c+=this.children()[n].exportSvg(e,i+1)}}}else if(this instanceof SVG.Text||this instanceof SVG.TSpan||this instanceof SVG.TextPath){for(n=0,s=this.node.childNodes.length;n<s;n++)if(this.node.childNodes[n].instance instanceof SVG.TSpan)c+=this.node.childNodes[n].instance.exportSvg(e,i+1);else if(this.node.childNodes[n].instance instanceof SVG.TextPath)c+=this.node.childNodes[n].instance.exportSvg(e,i+1);else c+=this.node.childNodes[n].nodeValue.replace(/&/g,"&amp;")}else if(SVG.ComponentTransferEffect&&this instanceof SVG.ComponentTransferEffect){this.rgb.each(function(){c+=this.exportSvg(e,i+1)})}c+=t("</"+f+">",e.whitespace,i)}return c},exportAttr:function(t){if(arguments.length==0)return this.data("svg-export-attr");return this.data("svg-export-attr",t)},attrToString:function(){var t,e,i,n=[],s=this.exportAttr(),h=this.attr();if(typeof s=="object")for(e in s)if(e!="data-svg-export-attr")h[e]=s[e];for(e in h){i=h[e];if(e=="xlink"){e="xmlns:xlink"}else if(e=="href"){if(!h["xlink:href"])e="xlink:href"}if(typeof i==="string")i=i.replace(/"/g,"'");if(e!="data-svg-export-attr"&&e!="href"){if(e!="stroke"||parseFloat(h["stroke-width"])>0)n.push(e+'="'+i+'"')}}return n.length?" "+n.join(" "):""}});function t(t,e,n){if(e){var s="",h=e===true?"  ":e||"";for(i=n-1;i>=0;i--)s+=h;t=s+t+"\n"}return t}}).call(this);